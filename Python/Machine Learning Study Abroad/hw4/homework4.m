%{
conn = yahoo; %connect to Yahoo
name='IBM';
begindate='2-january-2014';
enddate='14-may-2014';
data1 =fetch(conn,name,{'High','Low','Close'},begindate,enddate);% downloading data with matlab
data=data1(:,4); % closing prices
fprintf('data')
plot(data)
%}

%{
WINDOW = 10
data = [1,2,3,4,5,5,5,5,5,5,5,5,5,5,5]
weightings = [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1]
y=conv(data, weightings)
y = y(10:15);
fprintf('y')
plot(y)
%}

data = [188.720000000000;192.190000000000;192.570000000000;190.080000000000;188.910000000000;189.300000000000;190.030000000000;191.260000000000;191.440000000000;193.530000000000;196.470000000000;195.110000000000;193.140000000000;189.630000000000;190.220000000000;191.730000000000;192.150000000000;192.270000000000;190.010000000000;196.400000000000;197.020000000000;197.770000000000;195.190000000000;195.680000000000;196.640000000000;193.290000000000;194.520000000000;191.770000000000;192.690000000000;193.550000000000;194.500000000000;192.490000000000;190.450000000000;189.830000000000;192.620000000000;195.040000000000;188.250000000000;186.670000000000;187.900000000000;184.710000000000;186.810000000000;185.810000000000;182.210000000000;183.900000000000;186.220000000000;186.760000000000;186.390000000000;187.680000000000;187.640000000000;187.140000000000;186.440000000000;184.260000000000;185.170000000000;185.270000000000;184.060000000000;183.230000000000;183.450000000000;182.790000000000;184.260000000000;182.950000000000;183.190000000000;183.690000000000;181.840000000000;180.240000000000;179.700000000000;177.140000000000;177.250000000000;174.670000000000;174.240000000000;172.840000000000;172.900000000000;176.680000000000;177.360000000000;176.400000000000;176.850000000000;177.900000000000;179.640000000000;182.730000000000;182.250000000000;188.430000000000;190.090000000000;188.760000000000;187.740000000000;185.920000000000;184.160000000000;187.260000000000;187.380000000000;187.970000000000;189.710000000000;186;186.640000000000;185.530000000000]
Sum=sum(1:10)
numerator=[1:10]
weightings = numerator/Sum
%weightings = [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1]
y = conv(data, weightings)
y = y(10:92)
plot(y)

